{
	"info": {
		"_postman_id": "bf884b3b-4135-4334-8faf-af71550da047",
		"name": "Mini LMS Laravel",
		"description": "API collection for Course Management System with authentication and CRUD operations",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "11136821"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login (Teacher)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('auth_token', response.token);",
									"    pm.environment.set('user_id', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"teacher@gmail.com\",\n    \"password\": \"password\"\n}"
						},
						"url": "{{base_url}}/v1/login",
						"description": "Login endpoint for teacher authentication"
					},
					"response": [
						{
							"name": "Successful Login",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"teacher@gmail.com\",\n    \"password\": \"password\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/login"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"user\": {\n        \"id\": 1,\n        \"name\": \"Teacher Name\",\n        \"email\": \"teacher@gmail.com\",\n        \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n        \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n    },\n    \"token\": \"1|abcdef123456789...\"\n}"
						}
					]
				},
				{
					"name": "Login (Admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('auth_token', response.token);",
									"    pm.environment.set('user_id', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@gmail.com\",\n    \"password\": \"password\"\n}"
						},
						"url": "{{base_url}}/v1/login",
						"description": "Login endpoint for admin authentication"
					},
					"response": [
						{
							"name": "Successful Admin Login",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"admin@gmail.com\",\n    \"password\": \"password\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/login"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"user\": {\n        \"id\": 2,\n        \"name\": \"Admin User\",\n        \"email\": \"admin@gmail.com\",\n        \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n        \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n    },\n    \"token\": \"2|xyz789123456...\"\n}"
						}
					]
				},
				{
					"name": "Login (Student)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.environment.set('auth_token', response.token);",
									"    pm.environment.set('user_id', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"student@gmail.com\",\n    \"password\": \"password\"\n}"
						},
						"url": "{{base_url}}/v1/login",
						"description": "Login endpoint for student authentication - useful for testing unauthorized access to course management operations"
					},
					"response": [
						{
							"name": "Successful Student Login",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"student@gmail.com\",\n    \"password\": \"password\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/login"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"user\": {\n        \"id\": 3,\n        \"name\": \"Student User\",\n        \"email\": \"student@gmail.com\",\n        \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n        \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n    },\n    \"token\": \"3|student123456...\"\n}"
						}
					]
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": "{{base_url}}/v1/logout",
						"description": "Logout endpoint to revoke all user tokens"
					},
					"response": [
						{
							"name": "Successful Logout",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"url": "{{base_url}}/v1/logout"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Logged out successfully\"\n}"
						}
					]
				}
			],
			"description": "Authentication endpoints for login and logout functionality. Includes teacher, admin, and student roles for testing different permission levels."
		},
		{
			"name": "Courses",
			"item": [
				{
					"name": "Get All Courses",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/v1/courses?page=1&per_page=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"v1",
								"courses"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "per_page",
									"value": "10",
									"description": "Number of items per page"
								}
							]
						},
						"description": "Retrieve a paginated list of all courses (requires authentication)"
					},
					"response": [
						{
							"name": "Successful Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"url": "{{base_url}}/v1/courses"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"data\": [\n        {\n            \"id\": 1,\n            \"title\": \"Introduction to Laravel\",\n            \"description\": \"Learn the basics of Laravel framework\",\n            \"teacher\": {\n                \"id\": 1,\n                \"name\": \"John Doe\",\n                \"email\": \"john@example.com\"\n            },\n            \"sessions_count\": 5,\n            \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n            \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n        }\n    ],\n    \"meta\": {\n        \"total\": 1,\n        \"count\": 1,\n        \"per_page\": 10,\n        \"current_page\": 1,\n        \"total_pages\": 1\n    },\n    \"links\": {\n        \"first\": \"http://localhost:8000/api/v1/courses?page=1\",\n        \"last\": \"http://localhost:8000/api/v1/courses?page=1\",\n        \"prev\": null,\n        \"next\": null\n    }\n}"
						}
					]
				},
				{
					"name": "Get Single Course",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": "{{base_url}}/v1/courses/5",
						"description": "Retrieve details of a specific course by ID (requires authentication)"
					},
					"response": [
						{
							"name": "Successful Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"url": "{{base_url}}/v1/courses/1"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"id\": 1,\n    \"title\": \"Introduction to Laravel\",\n    \"description\": \"Learn the basics of Laravel framework\",\n    \"teacher\": {\n        \"id\": 1,\n        \"name\": \"John Doe\",\n        \"email\": \"john@example.com\"\n    },\n    \"sessions_count\": 5,\n    \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n    \"updated_at\": \"2024-01-01T00:00:00.000000Z\"\n}"
						}
					]
				},
				{
					"name": "Create Course",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Advanced PHP Development\",\n    \"description\": \"Deep dive into advanced PHP concepts and best practices\",\n    \"teacher_id\": 1\n}"
						},
						"url": "{{base_url}}/v1/courses",
						"description": "Create a new course (requires authentication and manage-courses permission). Test with student token to verify unauthorized access."
					},
					"response": [
						{
							"name": "Successful Creation",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"Advanced PHP Development\",\n    \"description\": \"Deep dive into advanced PHP concepts and best practices\",\n    \"teacher_id\": 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/courses"
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Course created successfully\",\n    \"data\": {\n        \"id\": 2,\n        \"title\": \"Advanced PHP Development\",\n        \"description\": \"Deep dive into advanced PHP concepts and best practices\",\n        \"teacher\": {\n            \"id\": 1,\n            \"name\": \"John Doe\",\n            \"email\": \"john@example.com\"\n        },\n        \"sessions_count\": 0,\n        \"created_at\": \"2024-01-02T00:00:00.000000Z\",\n        \"updated_at\": \"2024-01-02T00:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Validation Error",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"description\": \"Missing title and teacher_id\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/courses"
							},
							"status": "Unprocessable Entity",
							"code": 422,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"The given data was invalid.\",\n    \"errors\": {\n        \"title\": [\n            \"The course title is required.\"\n        ],\n        \"teacher_id\": [\n            \"The teacher is required.\"\n        ]\n    }\n}"
						},
						{
							"name": "Unauthorized Access (Student)",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"description": "Student token",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"Advanced PHP Development\",\n    \"description\": \"Deep dive into advanced PHP concepts and best practices\",\n    \"teacher_id\": 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/courses"
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Unauthorized. You do not have the required permissions to perform this action.\"\n}"
						}
					]
				},
				{
					"name": "Update Course",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Course Title\",\n    \"description\": \"Updated course description with more details\",\n    \"teacher_id\": 1\n}"
						},
						"url": "{{base_url}}/v1/courses/10",
						"description": "Update an existing course (requires authentication and manage-courses permission). Test with student token to verify unauthorized access."
					},
					"response": [
						{
							"name": "Successful Update",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"Updated Course Title\",\n    \"description\": \"Updated course description with more details\",\n    \"teacher_id\": 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/courses/1"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Course updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"title\": \"Updated Course Title\",\n        \"description\": \"Updated course description with more details\",\n        \"teacher\": {\n            \"id\": 1,\n            \"name\": \"John Doe\",\n            \"email\": \"john@example.com\"\n        },\n        \"sessions_count\": 5,\n        \"created_at\": \"2024-01-01T00:00:00.000000Z\",\n        \"updated_at\": \"2024-01-02T12:00:00.000000Z\"\n    }\n}"
						},
						{
							"name": "Unauthorized Access (Student)",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"description": "Student token",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"Updated Course Title\",\n    \"description\": \"Updated course description with more details\",\n    \"teacher_id\": 1\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": "{{base_url}}/v1/courses/1"
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Unauthorized. You do not have the required permissions to perform this action.\"\n}"
						}
					]
				},
				{
					"name": "Delete Course",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": "{{base_url}}/v1/courses/15",
						"description": "Delete a course (requires authentication and manage-courses permission). Test with student token to verify unauthorized access."
					},
					"response": [
						{
							"name": "Successful Deletion",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"type": "text"
									}
								],
								"url": "{{base_url}}/v1/courses/1"
							},
							"status": "No Content",
							"code": 204,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Course deleted successfully\"\n}"
						},
						{
							"name": "Unauthorized Access (Student)",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}",
										"description": "Student token",
										"type": "text"
									}
								],
								"url": "{{base_url}}/v1/courses/1"
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Unauthorized. You do not have the required permissions to perform this action.\"\n}"
						}
					]
				}
			],
			"description": "CRUD operations for course management. Use different user roles to test authorization levels."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		}
	]
}